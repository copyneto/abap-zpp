sap.ui.define([],function(){"use strict";return{onActionDownload:function(e){var s=e.getSource().getBindingContext().getObject();var a="/sap/opu/odata/sap/ZPP_PLANO_PRODUCAO_SRV_EX/";var t=new sap.ui.model.odata.ODataModel(a,false);var r="downloadSet(Id=+
'"+s.Id+"')/$value";var n=function(){return new Promise(function(e,s){t.read(r,{success:function(s,a){e();sap.m.URLHelper.redirect(a.requestUri,true)}.bind(this),error:function(e){s();let a=[];for(const s of e.response.body.matchAll(/(?:<message>(.*?)<[/+
]message>)/gm)){a.push(s[1])}let t=[];for(const s of e.response.body.matchAll(/(?:<severity>(.*?)<[/]severity>)/gm)){switch(s[1]){case"error":t.push(sap.ui.core.MessageType.Error);break;case"info":t.push(sap.ui.core.MessageType.Information);break;case"su+
ccess":t.push(sap.ui.core.MessageType.Success);break;case"warning":t.push(sap.ui.core.MessageType.Warning);break;default:t.push(sap.ui.core.MessageType.None);break}}for(let e=0;e<a.length;e++){if(a[e]=="Ocorreu uma exceção"){continue}sap.ui.getCore().get+
MessageManager().addMessages(new sap.ui.core.message.Message({message:a[e],persistent:true,type:t[e]}))}}.bind(this)})}.bind(this))}.bind(this);this.extensionAPI.securedExecution(n,{busy:{set:true,check:false},sActionLabel:"Mensagens"})},showSuccessMessa+
ge:function(e){this.getView().setBusy(false)},showErrorMessage:function(e){this.getView().setBusy(false)}}});                                                                                                                                                  